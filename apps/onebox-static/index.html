<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AGI Jobs — One-Box</title>
  <meta name="description" content="Gasless, walletless one-box interface for AGI Jobs v0" />
  <meta
    http-equiv="Content-Security-Policy"
    content="default-src 'self'; style-src 'self'; script-src 'self'; connect-src 'self' https://alpha-orchestrator.example.com https://api.web3.storage https://w3s.link https://ipfs.io; img-src 'self' data:; font-src 'self'; base-uri 'self'; form-action 'self';"
  />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='%231052d6'/%3E%3Ctext x='50' y='62' font-family='Arial' font-size='52' fill='white' text-anchor='middle'%3EA%3C/text%3E%3C/svg%3E" />
  <!-- Build template: assets injected by scripts/build.mjs -->
  <link
    rel="stylesheet"
    href="{{ styles_css_href }}"
    integrity="{{ styles_css_integrity }}"
    crossorigin="anonymous"
  />
</head>
<body>
  <header>
    <div>
      <h1>AGI Jobs — One-Box</h1>
      <span>Gasless, walletless Web3 interface powered by the AGI-Alpha orchestrator.</span>
    </div>
    <button id="advanced-toggle" type="button">Advanced</button>
  </header>

  <main class="layout">
    <section id="feed" role="log" aria-live="polite"></section>
    <section
      id="status-board"
      class="status-board"
      aria-live="polite"
      aria-label="Job status updates"
    ></section>
    <aside id="advanced-panel" aria-live="polite" aria-label="Advanced details"></aside>
  </main>

  <form id="composer">
    <div class="field">
      <label for="question">Describe what you want to do</label>
      <div class="input-row">
        <input
          id="question"
          type="text"
          placeholder='e.g., "Post a job for 500 images, 50 AGIALPHA reward"'
          autocomplete="off"
          aria-describedby="question-hint"
          required
        />
        <button id="send" type="submit">Send</button>
      </div>
      <p id="question-hint" class="hint">One input box. Natural language in; confirmations appear when value moves.</p>
    </div>
    <div class="field file-input">
      <label for="attachment">Attachments (optional)</label>
      <input id="attachment" type="file" multiple aria-describedby="attachment-hint" />
      <p id="attachment-hint" class="hint">Drop files anywhere or choose files to pin to IPFS for your next request.</p>
    </div>
  </form>

  <noscript>
    <p class="noscript-message">JavaScript is required for the AGI Jobs one-box interface.</p>
  </noscript>

  <script
    type="module"
    src="{{ app_js_src }}"
    integrity="{{ app_js_integrity }}"
    crossorigin="anonymous"
  ></script>
</body>
</html>
