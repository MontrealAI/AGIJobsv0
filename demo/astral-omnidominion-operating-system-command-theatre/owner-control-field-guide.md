# Owner Control Field Guide

The AGI Jobs v0 (v2) platform grants the contract owner complete control over mission-critical parameters, including the ability to pause/resume the protocol instantly. This field guide summarises the levers surfaced by the Astral Omnidominion theatre and how to exercise them using **existing tooling**.

## 1. Control surfaces generated by the demo

Running `npm run demo:agi-os:first-class` produces the following artefacts under `reports/agi-os/`:

- `owner-control-matrix.json` – Machine-readable list of every governed module with status and update command.
- `grand-summary.md` / `.html` – Executive narrative including the Owner Control Authority Matrix.
- `first-class/owner-control-map.mmd` – Mermaid diagram of the governance topology (owner → pause authority → downstream modules).
- `first-class/integrity-check.log` (within `first-class-run.json` notes) – Confirms that the matrix and manifest cross-validate.

These artefacts make it clear which modules are **✅ Ready**, which require configuration files (⚠️ Needs config), and whether any are missing scripted updaters (❌ Missing surface).

## 2. Immediate owner actions (no code editing)

| Capability | Command / UI | Notes |
| --- | --- | --- |
| Pause entire protocol | Owner Console → Governance Action → **Pause All Modules**<br/>or `npm run owner:command-center -- pause-all` | Calls `SystemPause.pauseAll()`, freezing job intake, staking, payouts. |
| Resume entire protocol | Owner Console → Governance Action → **Resume All Modules**<br/>or `npm run owner:command-center -- resume-all` | Calls `SystemPause.unpauseAll()`. |
| Update module parameter | `owner-control-matrix.json` entry → `updateScript` command (e.g. `npx hardhat run scripts/v2/updateThermostat.ts`) | Each script reads config from `config/v2/...` ensuring reproducibility. |
| Rotate treasury / governance addresses | `npm run owner:rotate` | Propagates new treasury, owner, and operator addresses through managed contracts. |
| Render current governance state | `npm run owner:dashboard` | Outputs Markdown summary of owner, pause authority, and module settings. |
| Generate control quickstart | `npm run owner:quickstart` | Produces a simplified action plan for new owners. |
| Produce emergency runbook | `npm run owner:emergency` | Prints incident response steps, including immediate pause instructions. |

All commands honour `HARDHAT_NETWORK`. The first-class demo sets this automatically based on the selected network so re-running commands in the same terminal continues to target the correct environment.

## 3. Governance forwarding (advanced)

The `SystemPause` contract exposes `executeGovernanceCall(address target, bytes data)` allowing the owner (timelock/multisig) to update any downstream contract without reclaiming ownership. The `owner:command-center` script provides wrappers for common actions, and custom calls can be executed with:

```bash
npm run owner:command-center -- execute --target <address> --data <0xcalldata>
```

This preserves centralized emergency control while keeping operational changes auditable through the pause authority.

## 4. Configuration hygiene

- **Version control:** Every config file used by the update scripts lives in `config/v2/`. Modify parameters via pull requests so changes are reviewable.
- **Dry runs:** Use `npm run owner:testnet:dry-run -- --network sepolia` before pushing updates to mainnet-equivalent environments.
- **Documentation:** Regenerate the owner guide (`npm run owner:guide`) after any configuration change to keep documentation in sync.

## 5. Triple-verification pattern

1. **Preview** – Run the relevant `owner:*` script with `--dry-run` (if supported) or inspect the command output without broadcasting transactions.
2. **Simulate** – Rerun `npm run demo:agi-os:first-class -- --skip-deploy` to replay the mission with updated configs, verifying the Owner Control Matrix reports the new settings.
3. **Confirm** – Use the Owner Console UI to visually confirm the change and capture screenshots for audit trails.

Following this pattern ensures every owner action is logged, reproducible, and backed by automated verification.
