(function(){
  if (window.mermaid) return;
  const script=document.createElement('script');
  script.src='https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js';
  script.async=true;
  script.onload=function(){
    if(window.mermaid){
      window.mermaid.initialize({startOnLoad:true, theme:'dark'});
    }
  };
  document.head.appendChild(script);
})();
