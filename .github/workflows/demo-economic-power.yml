name: demo-economic-power

on:
  push:
    paths:
    - '.github/workflows/demo-economic-power.yml'
    - 'demo/Economic-Power-v0/**'
    - 'package.json'
    - 'package-lock.json'
  pull_request:
    paths:
    - '.github/workflows/demo-economic-power.yml'
    - 'demo/Economic-Power-v0/**'
    - 'package.json'
    - 'package-lock.json'

jobs:
  run-demo:
    runs-on: ubuntu-latest
    timeout-minutes: 30
    steps:
    - uses: actions/checkout@v4
    - uses: ./.github/actions/setup-node-ci
    - name: Install dependencies
      uses: ./.github/actions/npm-ci
    - name: Generate economic power reports
      run: npm run demo:economic-power:ci
    - name: Validate simulation logic
      run: npm run test:economic-power
